<?phpnamespace backend\models;use Yii;use yii\helpers\ArrayHelper;/** * This is the model class for table "{{%provinces}}". * * @property integer $id * @property string $areaname * @property integer $parentid * @property string $shortname * @property integer $areacode * @property integer $zipcode * @property string $pinyin * @property string $lng * @property string $lat * @property integer $level * @property string $position * @property integer $sort */class Provinces extends \yii\db\ActiveRecord{    /**     * @inheritdoc     */    public static function tableName()    {        return '{{%provinces}}';    }    /**     * @inheritdoc     */    public function rules()    {        return [            [['id', 'areaname', 'parentid', 'level', 'position'], 'required'],            [['id', 'parentid', 'areacode', 'zipcode', 'level', 'sort'], 'integer'],            [['areaname', 'shortname'], 'string', 'max' => 50],            [['pinyin'], 'string', 'max' => 100],            [['lng', 'lat'], 'string', 'max' => 20],            [['position'], 'string', 'max' => 255],        ];    }    /**     * @inheritdoc     */    public function attributeLabels()    {        return [            'id'        => 'ID',            'areaname'  => '名称',            'parentid'  => '父级ID',            'shortname' => '简称',            'areacode'  => '区域编号',            'zipcode'   => '邮编',            'pinyin'    => '拼音',            'lng'       => 'Lng',            'lat'       => 'Lat',            'level'     => '级别',            'position'  => 'Position',            'sort'      => '排序',        ];    }    /**     * @param int $parentid     * @return array     * 根据父级ID返回信息     */    public static function getCityList($parentid = 0)    {        $model = Provinces::findAll(['parentid'=>$parentid]);        return ArrayHelper::map($model,'id','areaname');    }    public static function getList($parent_name=null)    {        if($parent_name){            $now=Provinces::findOne(['areaname'=>$parent_name]);            if($now){                $model = Provinces::findAll(['parentid'=>$now->id]);            }else{                return false;            }        }else{            $model = Provinces::findAll(['parentid'=>0]);        }        return ArrayHelper::map($model,'id','areaname');    }    public function getChildren(){        return $this->hasMany(Provinces::className(), ['parentid' => 'id']);    }}